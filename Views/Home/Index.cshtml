@{
    ViewData["Title"] = "Home Page";
}

<div class="container">
    <form>
        <div class="form-group">
            <select id="countryId" asp-items="@ViewBag.Countries" class="form-control">
                <option value="0">Select Country</option>
            </select>
        </div>

        <div class="form-group">
            <select id="stateId" class="form-control">
                <option value="0">Select State</option>
            </select>
        </div>

        <div class="form-group">
            <select id="villageId" class="form-control">
                <option value="0">Select Village</option>
            </select>
        </div>
    </form>
</div>


@section Scripts{
    <script>
            $(()=>{
                dropdownOptions = [
                {
                    id : 'countryId',
                    isLinked : true,
                    linkedTo : "stateId",
                    linkedToName: "State",
                    linkedToIdName: "id",
                    linkedToDisplayName: "name",
                    dataUrl : "home/GetStatesFromCountry"
                },
                {
                    id : 'stateId',
                    isLinked : true,
                    linkedTo : "villageId",
                    linkedToName : "Village",
                    linkedToIdName: "id",
                    linkedToDisplayName: "name",
                    dataUrl : "home/getVillagesFromState"
                },
                {
                    id : 'villageId',
                    isLinked : false
                }
            ]
        })
    </script>
}